<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • svrep</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">svrep</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bootstrap-replicates.html">Bootstrap Methods for Surveys</a>
    <a class="dropdown-item" href="../articles/nonresponse-adjustments.html">Nonresponse Adjustments</a>
    <a class="dropdown-item" href="../articles/sample-based-calibration.html">Calibrating to Estimated Control Totals</a>
    <a class="dropdown-item" href="../articles/two-phase-sampling.html">Replication Methods for Two-phase Sampling</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/bschneidr/svrep/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/bschneidr/svrep/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="svrep-development-version">svrep (development version)<a class="anchor" aria-label="anchor" href="#svrep-development-version"></a></h2>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="svrep-050">svrep 0.5.0<a class="anchor" aria-label="anchor" href="#svrep-050"></a></h2><p class="text-muted">CRAN release: 2023-02-07</p>
<ul><li>
<p>This release adds extensive new functionality for two-phase designs. The new vignette “Replication Methods for Two-phase Sampling” describes the new functionality as well as the underlying statistical methods.</p>
<ul><li><p>The function <code><a href="../reference/as_gen_boot_design.html">as_gen_boot_design()</a></code> can now create generalized bootstrap weights for two-phase survey design objects created with the ‘survey’ package’s <code><a href="https://rdrr.io/pkg/survey/man/twophase.html" class="external-link">twophase()</a></code> function. The user must specify a list of two variance estimators to use for each phase, e.g. <code>list('Stratified Multistage SRS', 'Ultimate Cluster')</code>.</p></li>
<li><p>The function <code><a href="../reference/make_twophase_quad_form.html">make_twophase_quad_form()</a></code> can be used to create a quadratic form for a two-phase variance estimator, by combining quadratic forms from each phase.</p></li>
<li><p>The helper function <code><a href="../reference/get_nearest_psd_matrix.html">get_nearest_psd_matrix()</a></code> can be used to approximate a quadratic form matrix by the nearest positive semidefinite matrix. This can be particularly useful for two-phase designs, since the double expansion estimator commonly used in practice frequently does not have a variance estimator which is positive semidefinite.</p></li>
</ul></li>
<li><p>The function <code><a href="../reference/as_gen_boot_design.html">as_gen_boot_design()</a></code> has a new argument named <code>psd_option</code>, which controls what will happen if the target variance estimator has a quadratic form matrix which is not positive semi-definite. This can occasionally happen, particularly for two-phase designs. By default, the function will warn the user if the quadratic form is not positive semi-definite and then automatically approximate the matrix by the nearest positive semi-definite matrix.</p></li>
<li><p>Added a new function <code><a href="../reference/get_design_quad_form.html">get_design_quad_form()</a></code>, which determines the quadratic form matrix of a specified variance estimator, by parsing the information stored in a survey design object created using the ‘survey’ package.</p></li>
<li><p>Added a new function <code><a href="../reference/rescale_reps.html">rescale_reps()</a></code> which implements the rescaling of replicate adjustment factors to avoid negative replicate weights. This functionality already existed in <code><a href="../reference/as_gen_boot_design.html">as_gen_boot_design()</a></code> and <code><a href="../reference/make_gen_boot_factors.html">make_gen_boot_factors()</a></code>, but now it is implemented with the help of this new function.</p></li>
<li><p>Added helper function <code><a href="../reference/is_psd_matrix.html">is_psd_matrix()</a></code> for checking whether a matrix is positive semi-definite, and added a helper function <code><a href="../reference/get_nearest_psd_matrix.html">get_nearest_psd_matrix()</a></code> for approximating a square matrix by the nearest positive semi-definite matrix.</p></li>
<li><p>Minor improvements to vignettes, particularly formatting.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.1" id="svrep-041">svrep 0.4.1<a class="anchor" aria-label="anchor" href="#svrep-041"></a></h2><p class="text-muted">CRAN release: 2022-12-18</p>
<ul><li>Minor Updates and Bug Fixes:
<ul><li><p>Fix bug in <a href="https://github.com/bschneidr/svrep/issues/15" class="external-link">#15</a>, where bootstrap conversion of multistage survey design objects with <code><a href="../reference/as_bootstrap_design.html">as_bootstrap_design()</a></code> would throw an error when user manually specified weights in <code><a href="https://rdrr.io/pkg/survey/man/svydesign.html" class="external-link">svydesign()</a></code>.</p></li>
<li><p>Creation of Rao-Wu-Yue-Beaumont bootstrap replicate weights is now faster and takes less computer memory.</p></li>
<li><p>Typo fix in vignettes.</p></li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="svrep-040">svrep 0.4.0<a class="anchor" aria-label="anchor" href="#svrep-040"></a></h2><p class="text-muted">CRAN release: 2022-12-11</p>
<ul><li>
<p>This release adds several functions for creating bootstrap and generalized bootstrap replicate weights. The new vignette “Bootstrap methods for surveys” provides guidance for choosing a bootstrap method and selecting the number of bootstrap replicates to use, along with statistical details and references.</p>
<ul><li><p>Added function <code><a href="../reference/as_bootstrap_design.html">as_bootstrap_design()</a></code> to convert a survey design object to a replicate design with replicate weights created using a bootstrap method. This is essentially a specialized version of <code><a href="https://rdrr.io/pkg/survey/man/as.svrepdesign.html" class="external-link">as.svrepdesign()</a></code> that supports additional bootstrap methods and has detailed documentation about which bootstrap methods can be used for different types of sampling designs.</p></li>
<li><p>Added function <code><a href="../reference/as_gen_boot_design.html">as_gen_boot_design()</a></code> to convert a survey design object to a replicate design with replicate weights created using the generalized survey bootstrap. The user must supply the name of a target variance estimator (e.g., “Horvitz-Thompson” or “Ultimate Cluster”) used to create the generalized bootstrap factors. See the new vignette for details.</p></li>
<li><p>Added functions to help choose the number of bootstrap replicates. The function <code><a href="../reference/estimate_boot_sim_cv.html">estimate_boot_sim_cv()</a></code> can be used to estimate the simulation error in a bootstrap estimate caused by using a finite number of bootstrap replicates. The new function <code><a href="../reference/estimate_boot_reps_for_target_cv.html">estimate_boot_reps_for_target_cv()</a></code> estimates the number of bootstrap replicates needed to reduce the simulation error to a target level.</p></li>
<li><p>Added function <code><a href="../reference/make_rwyb_bootstrap_weights.html">make_rwyb_bootstrap_weights()</a></code>, which creates bootstrap replicate weights for a wide range of survey designs using the method of Rao-Wu-Yue-Beaumont (i.e., Beaumont’s generalization of the Rao-Wu-Yue bootstrap method). This function can be used directly, or users can specify <code>as_bootstrap_design(type = "Rao-Wu-Yue-Beaumont")</code>.</p></li>
<li><p>Added function <code><a href="../reference/make_gen_boot_factors.html">make_gen_boot_factors()</a></code> to create replicate adjustment factors using the generalized survey bootstrap. The key input to <code><a href="../reference/make_gen_boot_factors.html">make_gen_boot_factors()</a></code> is the matrix of the quadratic form used to represent a variance estimator. The new function <code><a href="../reference/make_quad_form_matrix.html">make_quad_form_matrix()</a></code> can be used to represent a chosen variance estimator as a quadratic form, given information about the sample design. This can be used for stratified multistage SRS designs (with or without replacement), systematic samples, and PPS samples, with or without replacement.</p></li>
</ul></li>
<li>
<p>Minor Updates and Bug Fixes:</p>
<ul><li>When using <code><a href="../reference/as_data_frame_with_weights.html">as_data_frame_with_weights()</a></code>, ensure that the full-sample weight is named <code>"FULL_SAMPLE_WGT"</code> if the user does not specify something different.</li>
<li>For <code><a href="../reference/calibrate_to_estimate.html">calibrate_to_estimate()</a></code>, ensure that the output names the list of columns with perturbed control columns <code>col_selection</code> instead of <code>perturbed_control_cols</code>, so that the name matches the corresponding function argument, <code>col_selection</code>.</li>
<li>Improvements to documentation (formatting tweaks and typo fixes)</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="svrep-030">svrep 0.3.0<a class="anchor" aria-label="anchor" href="#svrep-030"></a></h2><p class="text-muted">CRAN release: 2022-07-05</p>
<ul><li><p>Added helper function <code><a href="../reference/as_data_frame_with_weights.html">as_data_frame_with_weights()</a></code> to convert a survey design object into a data frame with columns of weights (full-sample weights and, if applicable, replicate weights). This is useful for saving data and weights to a data file.</p></li>
<li><p>Added <code>by</code> argument to <code><a href="../reference/summarize_rep_weights.html">summarize_rep_weights()</a></code> which allows the specification of one or more grouping variables to use for summaries (e.g. <code>by = c('stratum', 'response_status')</code> can be used to summarize by response status within each stratum).</p></li>
<li><p>Added a small vignette “Nonresponse Adjustments” to illustrate how to conduct nonresponse adjustments using <code><a href="../reference/redistribute_weights.html">redistribute_weights()</a></code>.</p></li>
<li>
<p>Minor Updates and Bug Fixes:</p>
<ul><li>Internal code update to avoid annoying but harmless warning message about <code>rho</code> in <code><a href="../reference/calibrate_to_estimate.html">calibrate_to_estimate()</a></code>.</li>
<li>Bug fix for <code><a href="../reference/stack_replicate_designs.html">stack_replicate_designs()</a></code> where designs created with <code>as.svrepdesign(..., type = 'mrbbootstrap')</code> or <code>as.svrepdesign(..., type = 'subbootstrap')</code> threw an error.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="svrep-020">svrep 0.2.0<a class="anchor" aria-label="anchor" href="#svrep-020"></a></h2><p class="text-muted">CRAN release: 2022-05-12</p>
<ul><li>
<p>Added functions <code><a href="../reference/calibrate_to_estimate.html">calibrate_to_estimate()</a></code> and <code><a href="../reference/calibrate_to_sample.html">calibrate_to_sample()</a></code> for calibrating to estimated control totals with methods that account for the sampling variance of the control totals. For an overview of these functions, please see the new vignette “Calibrating to Estimated Control Totals”.</p>
<ul><li><p>The function <code><a href="../reference/calibrate_to_estimate.html">calibrate_to_estimate()</a></code> requires the user to supply a vector of control totals and its variance-covariance matrix. The function applies Fuller’s proposed adjustments to the replicate weights, in which control totals are varied across replicates by perturbing the control totals using a spectral decomposition of the control totals’ variance-covariance matrix.</p></li>
<li><p>The function <code><a href="../reference/calibrate_to_sample.html">calibrate_to_sample()</a></code> requires the user to supply a replicate design for the primary survey of interest as well as a replicate design for the control survey used to estimate control totals for calibration. The function applies Opsomer &amp; Erciulescu’s method of varying the control totals across replicates of the primary survey by matching each primary survey replicate to a replicate from the control survey.</p></li>
</ul></li>
<li>
<p>Added an example dataset, <code>lou_vax_survey</code>, which is a simulated survey measuring Covid-19 vaccination status and a handful of demographic variables, based on a simple random sample of 1,000 residents of Louisville, Kentucky with an approximately 50% response rate.</p>
<ul><li>An accompanying dataset <code>lou_pums_microdata</code> provides person-level microdata from the American Community Survey (ACS) 2015-2019 public-use microdata sample (PUMS) data for Louisville, KY. The dataset <code>lou_pums_microdata</code> includes replicate weights to use for variance estimation and can be used to generate control totals for <code>lou_vax_survey</code>.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="svrep-010">svrep 0.1.0<a class="anchor" aria-label="anchor" href="#svrep-010"></a></h2><p class="text-muted">CRAN release: 2022-03-30</p>
<ul><li>Initial release of the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Ben Schneider.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

