<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Package-level Options for svrep — svrep-package-options • svrep</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Package-level Options for svrep — svrep-package-options"><meta name="description" content="This help page describes the overall
options that can be set for your R session,
using the function options()."><meta property="og:description" content="This help page describes the overall
options that can be set for your R session,
using the function options()."><meta property="og:image" content="https://bschneidr.github.io/svrep/logo.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">svrep</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/bootstrap-replicates.html">Bootstrap Methods for Surveys</a></li>
    <li><a class="dropdown-item" href="../articles/nonresponse-adjustments.html">Nonresponse Adjustments</a></li>
    <li><a class="dropdown-item" href="../articles/sample-based-calibration.html">Calibrating to Estimated Control Totals</a></li>
    <li><a class="dropdown-item" href="../articles/two-phase-sampling.html">Replication Methods for Two-phase Sampling</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bschneidr/svrep/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Package-level Options for svrep</h1>
      <small class="dont-index">Source: <a href="https://github.com/bschneidr/svrep/blob/main/R/svrep-package-options.R" class="external-link"><code>R/svrep-package-options.R</code></a></small>
      <div class="d-none name"><code>svrep-package-options.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This help page describes the overall
options that can be set for your R session,
using the function <code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code>.</p>
    </div>


    <div class="section level2">
    <h2 id="options-for-using-the-torch-package-to-speed-up-certain-operations">Options for using the 'torch' package to speed up certain operations<a class="anchor" aria-label="anchor" href="#options-for-using-the-torch-package-to-speed-up-certain-operations"></a></h2>


<p>The 'torch' package provides access to fast linear algebra routines
and is a particularly convenient approach to working with GPUs or
conducting multithreaded linear algebra operations.</p>
<p>Setting the following options will allow functions in 'svrep' to
use the 'torch' package to speed up certain computationally intensive
operations that occur when creating replicate weights, particularly
for Fay's generalized replication method or generalized bootstrap methods.</p>
<p>The option <code>svrep.torch_device</code> accepts the following options:</p><ul><li><p><code>options(svrep.torch_device = 'none')</code>: The 'torch' package will not be used.</p></li>
<li><p><code>options(svrep.torch_device = 'cpu')</code>: The 'torch' package will be used
with all operations done on the CPU.</p></li>
<li><p><code>options(svrep.torch_device = 'cuda')</code>: The 'torch' package will be used,
with operations conducted on the GPU if possible. This requires the user's
computer to have a CUDA-enabled GPU.</p></li>
</ul><p>Note that precise values for matrix decompositions can vary between
different linear algebra libraries (including among common BLAS/LAPACK),
and so the replicate weights created with 'torch' may not exactly
match those created without 'torch'; differences will generally be small.</p>
<p>The following function from 'torch' will control
the number of threads used for computations, which can have a large
impact on speed.</p><ul><li><p><code>torch::set_num_threads()</code>: Sets the number of threads that 'torch' can use.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="relevant-options-from-the-survey-package">Relevant options from the 'survey' package<a class="anchor" aria-label="anchor" href="#relevant-options-from-the-survey-package"></a></h2>



<p>The 'survey' package has the following options which are of particular relevance
to users of 'svrep'.</p><ul><li><p><code>options(survey.replicates.mse = TRUE/FALSE)</code>: The default value for this option
is <code>FALSE</code>. This option controls the default value used for the <code>mse</code> argument in
the functions <code><a href="https://rdrr.io/pkg/survey/man/svrepdesign.html" class="external-link">svrepdesign()</a></code> and <code><a href="https://rdrr.io/pkg/survey/man/as.svrepdesign.html" class="external-link">as.svrepdesign()</a></code>.</p></li>
</ul><p>Call <code><a href="https://rdrr.io/pkg/survey/man/surveyoptions.html" class="external-link">help('survey.replicates.mse', package = 'survey')</a></code> for more details.</p>
<p>In nearly all cases, it is safer to use
<code>options(survey.replicates.mse = TRUE)</code>, or–better yet–
to always specify <code>svrepdesign(..., mse = TRUE)</code> or
<code>as.svrepdesign(..., mse = TRUE)</code> when using functions with an <code>mse</code> argument.</p>
<p>For replicate weights created using Fay's generalized replication method or
the generalized bootstrap, using <code>mse = FALSE</code> can result in badly biased
variance estimates.</p><ul><li><p><code>options(survey.multicore = TRUE/FALSE)</code>: The default value for this option
is <code>FALSE</code>. Setting this option to <code>TRUE</code> means that multiple processors
will be used for certain variance calculations involving replicate weights,
such as in <code><a href="https://rdrr.io/pkg/survey/man/svyglm.html" class="external-link">svyglm()</a></code>.</p></li>
</ul><p>This can potentially speed up calculations but is not guaranteed to do so.</p>
<p>Call <code><a href="https://rdrr.io/pkg/survey/man/surveyoptions.html" class="external-link">help('survey.multicore', package = 'survey')</a></code> for more details.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Schneider.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

