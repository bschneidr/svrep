<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convert a survey design object to a bootstrap replicate design — as_bootstrap_design • svrep</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a survey design object to a bootstrap replicate design — as_bootstrap_design"><meta name="description" content="Converts a survey design object to a replicate design object
with replicate weights formed using a bootstrap method. Supports stratified,
cluster samples with one or more stages of sampling. At each stage of sampling,
either simple random sampling (with or without replacement)
or unequal probability sampling (with or without replacement) may be used."><meta property="og:description" content="Converts a survey design object to a replicate design object
with replicate weights formed using a bootstrap method. Supports stratified,
cluster samples with one or more stages of sampling. At each stage of sampling,
either simple random sampling (with or without replacement)
or unequal probability sampling (with or without replacement) may be used."><meta property="og:image" content="https://bschneidr.github.io/svrep/logo.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">svrep</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/bootstrap-replicates.html">Bootstrap Methods for Surveys</a></li>
    <li><a class="dropdown-item" href="../articles/nonresponse-adjustments.html">Nonresponse Adjustments</a></li>
    <li><a class="dropdown-item" href="../articles/sample-based-calibration.html">Calibrating to Estimated Control Totals</a></li>
    <li><a class="dropdown-item" href="../articles/two-phase-sampling.html">Replication Methods for Two-phase Sampling</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bschneidr/svrep/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Convert a survey design object to a bootstrap replicate design</h1>
      <small class="dont-index">Source: <a href="https://github.com/bschneidr/svrep/blob/main/R/as_bootstrap_design.R" class="external-link"><code>R/as_bootstrap_design.R</code></a></small>
      <div class="d-none name"><code>as_bootstrap_design.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Converts a survey design object to a replicate design object
with replicate weights formed using a bootstrap method. Supports stratified,
cluster samples with one or more stages of sampling. At each stage of sampling,
either simple random sampling (with or without replacement)
or unequal probability sampling (with or without replacement) may be used.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">as_bootstrap_design</span><span class="op">(</span></span>
<span>  <span class="va">design</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"Rao-Wu-Yue-Beaumont"</span>,</span>
<span>  replicates <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  compress <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  mse <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"survey.replicates.mse"</span><span class="op">)</span>,</span>
<span>  samp_method_by_stage <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-design">design<a class="anchor" aria-label="anchor" href="#arg-design"></a></dt>
<dd><p>A survey design object created using the 'survey' (or 'srvyr') package,
with class <code>'survey.design'</code> or <code>'svyimputationList'</code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>The type of bootstrap to use, which should be chosen based
on its applicability to the sampling method used for the survey.
The available types are the following: <br></p><ul><li><p><strong>"Rao-Wu-Yue-Beaumont"</strong> (the default): <br>
   The bootstrap method of Beaumont and Émond (2022), which is a generalization of the Rao-Wu-Yue bootstrap,
   and is applicable to a wide variety of designs, including single-stage and multistage stratified designs.
   The design may have different sampling methods used at different stages.
   Each stage of sampling may potentially be PPS (i.e., use unequal probabilities), with or without replacement,
   and may potentially use Poisson sampling. <br><br>
   For a stratum with a fixed sample size of \(n\) sampling units, resampling in each replicate resamples \((n-1)\) sampling units with replacement.</p></li>
<li><p><strong>"Rao-Wu"</strong>: <br>
   The basic Rao-Wu \((n-1)\) bootstrap method, which is only applicable to single-stage designs or
   multistage designs where the first-stage sampling fractions are small (and can thus be ignored).
   Accommodates stratified designs. All sampling within a stratum must be simple random sampling with or without replacement,
   although the first-stage sampling is effectively treated as sampling without replacement.</p></li>
<li><p><strong>"Antal-Tille"</strong>: <br>
   The doubled half bootstrap method proposed by Antal and Tillé (2014), which is only applicable to single-stage designs or
   multistage designs where the first-stage sampling fractions are small (and can thus be ignored).
   Accomodates stratified designs. Sampling within each stratum can be simple random sampling or unequal probability sampling
   with or without replacement.</p></li>
<li><p><strong>"Preston"</strong>: <br>
   Preston's multistage rescaled bootstrap, which is applicable to single-stage designs or multistage designs
   with arbitrary sampling fractions. Accommodates stratified designs. All sampling within a stratum must be
   simple random sampling with or without replacement.</p></li>
<li><p><strong>"Canty-Davison"</strong>: <br>
   The Canty-Davison bootstrap, which is only applicable to single-stage designs, with arbitrary sampling fractions.
   Accommodates stratified designs. All sampling with a stratum must be simple random sampling with or without replacement.</p></li>
</ul></dd>


<dt id="arg-replicates">replicates<a class="anchor" aria-label="anchor" href="#arg-replicates"></a></dt>
<dd><p>Number of bootstrap replicates (should be as large as possible, given computer memory/storage limitations).
A commonly-recommended default is 500.</p></dd>


<dt id="arg-compress">compress<a class="anchor" aria-label="anchor" href="#arg-compress"></a></dt>
<dd><p>Use a compressed representation of the replicate weights matrix.
This reduces the computer memory required to represent the replicate weights and has no
impact on estimates.</p></dd>


<dt id="arg-mse">mse<a class="anchor" aria-label="anchor" href="#arg-mse"></a></dt>
<dd><p>If <code>TRUE</code>, compute variances from sums of squares around the point estimate from the full-sample weights.
If <code>FALSE</code>, compute variances from sums of squares around the mean estimate from the replicate weights.</p></dd>


<dt id="arg-samp-method-by-stage">samp_method_by_stage<a class="anchor" aria-label="anchor" href="#arg-samp-method-by-stage"></a></dt>
<dd><p>(Optional). By default, this function will automatically determine the sampling method used at each stage.
However, this argument can be used to ensure the correct sampling method is identified for each stage. <br>
Accepts a vector with length equal to the number of stages of sampling.
Each element should be one of the following: <br></p><ul><li><p><code>"SRSWOR"</code> - Simple random sampling, without replacement</p></li>
<li><p><code>"SRSWR"</code> - Simple random sampling, with replacement</p></li>
<li><p><code>"PPSWOR"</code> - Unequal probabilities of selection, without replacement</p></li>
<li><p><code>"PPSWR"</code> - Unequal probabilities of selection, with replacement</p></li>
<li><p><code>"Poisson"</code> -  Poisson sampling: each sampling unit is selected into the sample at most once, with potentially different probabilities of inclusion for each sampling unit.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A replicate design object, with class <code>svyrep.design</code>, which can be used with the usual functions,
such as <code><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svymean()</a></code> or <code><a href="https://rdrr.io/pkg/survey/man/svyglm.html" class="external-link">svyglm()</a></code>.</p>
<p>Use <code>weights(..., type = 'analysis')</code> to extract the matrix of replicate weights. <br>
Use <code><a href="as_data_frame_with_weights.html">as_data_frame_with_weights()</a></code> to convert the design object to a data frame with columns
for the full-sample and replicate weights.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Antal, E. and Tillé, Y. (2014).
"A new resampling method for sampling designs without replacement: The doubled half bootstrap."
<strong>Computational Statistics</strong>, <em>29</em>(5), 1345-1363. https://doi.org/10.1007/s00180-014-0495-0</p>
<p>Beaumont, J.-F.; Émond, N. (2022).
"A Bootstrap Variance Estimation Method for Multistage Sampling and Two-Phase Sampling When Poisson Sampling Is Used at the Second Phase."
<strong>Stats</strong>, <em>5</em>: 339-357.
https://doi.org/10.3390/stats5020019</p>
<p>Canty, A.J.; Davison, A.C. (1999).
"Resampling-based variance estimation for labour force surveys."
<strong>The Statistician</strong>, <em>48</em>: 379-391.</p>
<p>Preston, J. (2009).
"Rescaled bootstrap for stratified multistage sampling."
<strong>Survey Methodology</strong>, <em>35</em>(2): 227-234.</p>
<p>Rao, J.N.K.; Wu, C.F.J.; Yue, K. (1992).
"Some recent work on resampling methods for complex surveys."
<strong>Survey Methodology</strong>, <em>18</em>: 209-217.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Use <code><a href="estimate_boot_reps_for_target_cv.html">estimate_boot_reps_for_target_cv</a></code> to help choose the number of bootstrap replicates.</p>
<p>The underlying function for the Rao-Wu-Yue-Beaumont bootstrap
is <code><a href="make_rwyb_bootstrap_weights.html">make_rwyb_bootstrap_weights</a></code>,
and the underlying function for the Antal-Tillé bootstrap
is <code><a href="make_doubled_half_bootstrap_weights.html">make_doubled_half_bootstrap_weights</a></code>.
Other bootstrap methods are implemented using functions from the 'survey' package,
including: <code><a href="https://rdrr.io/pkg/survey/man/bootweights.html" class="external-link">bootweights</a></code> (Canty-Davison),
<code><a href="https://rdrr.io/pkg/survey/man/bootweights.html" class="external-link">subbootweights</a></code> (Rao-Wu),
and <code><a href="https://rdrr.io/pkg/survey/man/bootweights.html" class="external-link">mrbweights</a></code> (Preston).</p>

<p>For systematic samples, one-PSU-per-stratum designs, or other especially complex sample designs,
one can use the generalized survey bootstrap method. See <code><a href="as_gen_boot_design.html">as_gen_boot_design</a></code> or <code><a href="make_gen_boot_factors.html">make_gen_boot_factors</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://r-survey.r-forge.r-project.org/survey/" class="external-link">survey</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Example 1: A multistage sample with two stages of SRSWOR</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Load an example dataset from a multistage sample, with two stages of SRSWOR</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"mu284"</span>, package <span class="op">=</span> <span class="st">'survey'</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">multistage_srswor_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survey/man/svydesign.html" class="external-link">svydesign</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mu284</span>,</span></span>
<span class="r-in"><span>                                        ids <span class="op">=</span> <span class="op">~</span> <span class="va">id1</span> <span class="op">+</span> <span class="va">id2</span>,</span></span>
<span class="r-in"><span>                                        fpc <span class="op">=</span> <span class="op">~</span> <span class="va">n1</span> <span class="op">+</span> <span class="va">n2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Convert the survey design object to a bootstrap design</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2022</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">bootstrap_rep_design</span> <span class="op">&lt;-</span> <span class="fu">as_bootstrap_design</span><span class="op">(</span><span class="va">multistage_srswor_design</span>,</span></span>
<span class="r-in"><span>                                              replicates <span class="op">=</span> <span class="fl">500</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Compare std. error estimates from bootstrap versus linearization</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">'Statistic'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'total'</span>, <span class="st">'mean'</span>, <span class="st">'median'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">'SE (bootstrap)'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svytotal</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">y1</span>, design <span class="op">=</span> <span class="va">bootstrap_rep_design</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svymean</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">y1</span>, design <span class="op">=</span> <span class="va">bootstrap_rep_design</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/svyquantile.html" class="external-link">svyquantile</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">y1</span>, quantile <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>                                        design <span class="op">=</span> <span class="va">bootstrap_rep_design</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="st">'SE (linearization)'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svytotal</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">y1</span>, design <span class="op">=</span> <span class="va">multistage_srswor_design</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svymean</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">y1</span>, design <span class="op">=</span> <span class="va">multistage_srswor_design</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                             <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/svyquantile.html" class="external-link">svyquantile</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">y1</span>, quantile <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>                                            design <span class="op">=</span> <span class="va">multistage_srswor_design</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    check.names <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Statistic SE (bootstrap) SE (linearization)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     total    2311.130145        2274.254701</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      mean       2.449955           2.273653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    median       2.331234           2.521210</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: A multistage-sample,</span></span></span>
<span class="r-in"><span><span class="co"># first stage selected with unequal probabilities without replacement</span></span></span>
<span class="r-in"><span><span class="co"># second stage selected with simple random sampling without replacement</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"library_multistage_sample"</span>, package <span class="op">=</span> <span class="st">"svrep"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">multistage_pps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/survey/man/svydesign.html" class="external-link">svydesign</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">library_multistage_sample</span>,</span></span>
<span class="r-in"><span>                              ids <span class="op">=</span> <span class="op">~</span> <span class="va">PSU_ID</span> <span class="op">+</span> <span class="va">SSU_ID</span>,</span></span>
<span class="r-in"><span>                              fpc <span class="op">=</span> <span class="op">~</span> <span class="va">PSU_SAMPLING_PROB</span> <span class="op">+</span> <span class="va">SSU_SAMPLING_PROB</span>,</span></span>
<span class="r-in"><span>                              pps <span class="op">=</span> <span class="st">"brewer"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="va">bootstrap_rep_design</span> <span class="op">&lt;-</span> <span class="fu">as_bootstrap_design</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">multistage_pps</span>, replicates <span class="op">=</span> <span class="fl">500</span>,</span></span>
<span class="r-in"><span>    samp_method_by_stage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PPSWOR"</span>, <span class="st">"SRSWOR"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co">## Compare std. error estimates from bootstrap versus linearization</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">'Statistic'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'total'</span>, <span class="st">'mean'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      <span class="st">'SE (bootstrap)'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svytotal</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">TOTCIR</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                      design <span class="op">=</span> <span class="va">bootstrap_rep_design</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svymean</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">TOTCIR</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                     design <span class="op">=</span> <span class="va">bootstrap_rep_design</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      <span class="st">'SE (linearization)'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svytotal</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">TOTCIR</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                      design <span class="op">=</span> <span class="va">multistage_pps</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          <span class="fu"><a href="https://rdrr.io/pkg/survey/man/SE.html" class="external-link">SE</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survey/man/surveysummary.html" class="external-link">svymean</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">TOTCIR</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                     design <span class="op">=</span> <span class="va">multistage_pps</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      check.names <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Statistic SE (bootstrap) SE (linearization)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     total   266151536.55       255100437.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      mean       45762.71           42544.16</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Schneider.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

